<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<head>
    <title>我的小工具</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
</head>
<body>
    <h1>Hello!</h1>
    <form id="genPaper" method="get" action="/arithmetic/generate2">
        <label>选择试卷类型：</label>
        <select name="paperType">
            <option value="1">只填算式结果</option>
            <option value="2">填加减数</option>
        </select>
        <br/>
        <label>计算符数量：</label>
        <select name="opNum">
            <option value="1">1个</option>
            <option value="2">2个</option>
        </select>
        <br />
        <label>最大计算数的值：</label>
        <input type="text" name="max" value="20" />
        <br />
        <label>最小计算数的值：</label>
        <input type="text" name="min" value="5" />
        <br />
        <label>试卷数量：</label>
        <input type="text" name="paperCount" value="2" />
        <br />
        <label>每张试卷试题数：</label>
        <input type="text" name="itemCountPerPaper" value="30" />
        <br />
        <input type="button" onclick="javascript:clickGenPaper()" value="提交">
    </form>

    <script>
        function clickGenPaper() {
            let paperType = document.getElementsByName("paperType");
            let opNum = document.getElementsByName("opNum");
            let max = document.getElementsByName("max");
            let min = document.getElementsByName("min");
            let paperCount = document.getElementsByName("paperCount");
            let itemCountPerPaper = document.getElementsByName("itemCountPerPaper");
            let pyArgs = opNum + ',' + max + ',' + min + ',' + itemCountPerPaper + ',' + paperCount;

            let actionUrl = "/arithmetic/generate2?paperType=" + paperType + "&pyArgs=" + pyArgs;

            let genPaper = document.getElementById("genPaper");
            genPaper.action = actionUrl;
            genPaper.submit();
        }
    </script>
</body>
</html>